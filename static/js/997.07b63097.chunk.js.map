{"version":3,"file":"static/js/997.07b63097.chunk.js","mappings":"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","sources":["redux/contacts/selectors.js","components/Phonebook/ContactFilter.jsx","components/Phonebook/FormList.jsx","components/Phonebook/PhoneForm.styled.jsx","components/Phonebook/PhoneForm.jsx","components/pages/ContactsPage/ContactsPage.jsx"],"sourcesContent":["import { createSelector } from '@reduxjs/toolkit';\n\nexport const selectContacts = state => state.contacts.items;\nexport const selectDeletedContacts = state => state.contacts.deletedContacts;\nexport const selectRestoredContacts = state => state.contacts.deletedContacts;\nexport const selectIsLoading = state => state.contacts.isLoading;\nexport const selectError = state => state.contacts.error;\nexport const selectFilter = state => state.filter;\n\nexport const selectFilteredContacts = createSelector(\n  [selectContacts, selectFilter],\n  (contacts, filter) => {\n    return contacts.filter(contact =>\n      contact.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  }\n);\n","import { useDispatch, useSelector } from 'react-redux';\nimport { setContactFilter } from 'redux/contacts/filterSlice';\nimport { selectFilter } from 'redux/contacts/selectors';\n\nexport const ContactFilter = () => {\n  const filter = useSelector(selectFilter);\n  const dispatch = useDispatch();\n  const changeContactFilter = evt => {\n    dispatch(setContactFilter(evt.target.value.toLowerCase().trim()));\n  };\n  return (\n    <div>\n      <h2>Find contacts by name</h2>\n      <input type=\"text\" value={filter} onChange={changeContactFilter}></input>\n    </div>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  deleteContact,\n  restoreDeletedContacts,\n} from 'redux/contacts/operations';\nimport {\n  selectFilteredContacts,\n  selectRestoredContacts,\n} from 'redux/contacts/selectors';\n\nexport const FormList = () => {\n  const filteredContacts = useSelector(selectFilteredContacts);\n  // console.log(filteredContacts);\n  const restoredContacts = useSelector(selectRestoredContacts);\n\n  const dispatch = useDispatch();\n\n  const onDeleteContact = contactId => {\n    dispatch(deleteContact(contactId));\n  };\n\n  const resetChanges = () => {\n    dispatch(restoreDeletedContacts(restoredContacts));\n  };\n\n  if (!Array.isArray(filteredContacts) || filteredContacts.length === 0) {\n    console.log(filteredContacts);\n    return null;\n  }\n  return (\n    <div>\n      <ul>\n        {filteredContacts.map(({ name, number, id }) => (\n          <li key={id}>\n            <span>{name}:</span>\n            <span>{number}</span>\n            <button onClick={() => onDeleteContact(id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n      <button onClick={resetChanges}>Reset</button>\n    </div>\n  );\n};\n","import { styled } from 'styled-components';\nimport { Form, ErrorMessage, Field } from 'formik';\nexport const StyledForm = styled(Form)`\n  padding: 10px;\n  background-color: blanchedalmond;\n`;\n\nexport const StyledField = styled(Field)`\n  padding: 4px;\n  margin: 15px 15px;\n  background-color: whitesmoke;\n  border: solid 2px black;\n  width: auto;\n  height: 15px;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const StyledError = styled(ErrorMessage)`\n  color: red;\n`;\n","import { Formik } from 'formik';\nimport { StyledForm, StyledField, StyledError } from './PhoneForm.styled';\nimport * as Yup from 'yup';\nimport { toast } from 'react-toastify';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectContacts } from 'redux/contacts/selectors';\nimport { addContacts } from 'redux/contacts/operations';\n\nconst schema = Yup.object().shape({\n  name: Yup.string()\n    .matches(/^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/)\n    .required('Required!')\n    .min(2, 'Too Short!')\n    .max(50, 'Too Long!'),\n  number: Yup.string()\n    .matches(\n      /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/\n    )\n    .required('Required!')\n    .min(2, 'Too Short!')\n    .max(50, 'Too Long!'),\n});\n\nconst initialValues = { name: '', number: '' };\n\nexport const PhoneForm = () => {\n  const contacts = useSelector(selectContacts);\n  const dispatch = useDispatch();\n\n  const onAddContact = newContact => {\n    const existingContact = contacts.find(\n      contact => contact.name.toLowerCase() === newContact.name.toLowerCase()\n    );\n    console.log(newContact);\n    if (existingContact) {\n      toast.info(`${newContact.name} is already in contacts.`, {\n        position: 'top-right',\n        autoClose: 2000,\n      });\n      return;\n    }\n    // const newItem = {\n    //   id: nanoid(),\n    //   name: newContact.name,\n    //   number: newContact.number,\n    // };\n    const action = addContacts(newContact);\n    dispatch(action);\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={schema}\n      onSubmit={(values, actions) => {\n        onAddContact({ ...values });\n        actions.resetForm();\n      }}\n    >\n      {({ handleSubmit }) => (\n        <StyledForm onSubmit={handleSubmit}>\n          <h2>PhoneBook</h2>\n          <label>\n            Name\n            <StyledField name=\"name\" />\n            <StyledError name=\"name\" component=\"div\" />\n          </label>\n          <label>\n            Number\n            <StyledField name=\"number\" />\n            <StyledError name=\"number\" component=\"div\" />\n          </label>\n\n          <button type=\"submit\">Add contact</button>\n        </StyledForm>\n      )}\n    </Formik>\n  );\n};\n","import { ContactFilter } from '../../Phonebook/ContactFilter';\nimport { FormList } from '../../Phonebook/FormList';\nimport { PhoneForm } from '../../Phonebook/PhoneForm';\n\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectError, selectIsLoading } from 'redux/contacts/selectors';\nimport { fetchContacts } from 'redux/contacts/operations';\n\nexport const ContactsPage = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  return (\n    <div>\n      <title>PhoneBook</title>\n\n      <PhoneForm />\n      {isLoading && !error && <b>Request in progress...</b>}\n      <ContactFilter />\n      <FormList />\n    </div>\n  );\n};\n"],"names":["selectContacts","state","contacts","items","selectRestoredContacts","deletedContacts","selectIsLoading","isLoading","selectError","error","selectFilter","filter","selectFilteredContacts","createSelector","contact","name","toLowerCase","includes","ContactFilter","useSelector","dispatch","useDispatch","_jsxs","children","_jsx","type","value","onChange","evt","setContactFilter","target","trim","FormList","filteredContacts","restoredContacts","Array","isArray","length","map","_ref","number","id","onClick","contactId","deleteContact","restoreDeletedContacts","console","log","StyledForm","styled","Form","_templateObject","_taggedTemplateLiteral","StyledField","Field","_templateObject2","StyledError","ErrorMessage","_templateObject3","schema","Yup","shape","matches","required","min","max","initialValues","PhoneForm","Formik","validationSchema","onSubmit","values","actions","newContact","existingContact","find","toast","concat","position","autoClose","action","addContacts","onAddContact","_objectSpread","resetForm","handleSubmit","component","ContactsPage","useEffect","fetchContacts"],"sourceRoot":""}